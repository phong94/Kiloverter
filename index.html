<html>
	<head>
		<title> Kilo Converter </title>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<link rel="stylesheet" href="index.css">
	</head>
	<body>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

		<h1>Kilo-Pound Converter</h1>

		<div class="container">
			<div class="row">

				<div class="col-md-5"> <!-- This is the first column -->
					<h3>Fill in # of Plates</h3>

					<div class="form-group row">
						<div class="col-md-6">
							
							<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round red">25</div></label>		<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input id='25plate' type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn button btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round blue">20</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round yellow">15</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round green">10</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round black">5</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>		
						</div>

						<div class="col-md-6">
							
							<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round red">2.5</div></label>		<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round blue">2.0</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round yellow">1.5</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round green">1.0</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>

             				<label for="inputWeight" class="col-sm-3 col-form-label"><div class="round black">0.5</div></label>
							<div class="input-group col-sm-9">
								<span class="input-group-btn">
									<button type="button" class="decrement-btn btn btn-default btn-number">-</button>
             					</span>
             					<input type="number" min="0" value="0" class="form-control weights" name="weights[]">
             					<span class="input-group-btn">
									<button type="button" class="increment-btn btn btn-default btn-number">+</button>
             					</span>
             				</div><br>	

						</div>
					</div> 

					<div class="barselection">
						<h3>Select Bar</h3>
						<label class="radio-inline"><input type="radio" id="mensbar" name="bartype" checked="checked">Men's Bar</label>
						<label class="radio-inline"><input type="radio" id="womensbar" name="bartype">Women's Bar</label>
						<label class="radio-inline"><input type="radio" id="nobar" name="bartype">No Bar</label>
					</div>

					<form class="bottom">
						<button type="button" class="btn convertbtn" id="convertBtn">Convert</button>
						<div class="result resultstyle"><p></p></div>
					</form>
				</div> <!-- End first column -->

				<div class="col-md-2">
					<h3><b>or<b></h3>
				</div>

				<div class="col-md-5" id="numberConversion">
					<h3>Fill in Weight</h3>
					Input <input type="text" class="form-control manualweight" value="0"><br>
					Converting from: 
					<label class="radio-inline"><input type="radio" id="convertlbs" name="convertfrom" checked="checked">lbs</label>
					<label class="radio-inline"><input type="radio" id="convertkg" name="convertfrom">kg</label>
					<br><br>
					<form class="bottom">
						<button type="button" class="btn convertbtn" id="manualConvertBtn">Convert</button>
						<div class="manualresult resultstyle"><p></p></div>
					</form> 
				</div> 



			</div>
		</div>

		<script type="text/javascript">

			$(".increment-btn").click(function() {
				updateValue(this, 1);
			});
			$(".decrement-btn").click(function() {
				updateValue(this, -1);
			});

			function updateValue(obj, delta) {
				var item = $(obj).parent().parent().find("input");
				var newValue = parseInt(item.val(), 10) + delta;
				item.val(Math.max(newValue, 0));
			}

			// Convert # of plates to KG/LB
			$('#convertBtn').click(function() { 
				
				// Get the weight inputs
				var weightInputs = document.getElementsByClassName('weights');
				
				// Convert from JAVA collections to Array
				var arr = [].slice.call(weightInputs);

				var sum = 0;

				// Loop through and add
				for (var i = 0; i < arr.length; i++) {
					if (!isNaN(arr[i].valueAsNumber)) {

						switch(i) {
							case 0: // 25
								sum += (25 * arr[i].valueAsNumber);
								break;
							case 1: // 20
								sum += (20 * arr[i].valueAsNumber);
								break;
							case 2: // 15
								sum += (15 * arr[i].valueAsNumber);
								break;
							case 3: // 10
								sum += (10 * arr[i].valueAsNumber);
								break;
							case 4: // 5
								sum += (5 * arr[i].valueAsNumber);
								break;
							case 5: // 2.5
								sum += (2.5 * arr[i].valueAsNumber);
								break;
							case 6: // 2.0
								sum += (2 * arr[i].valueAsNumber);
								break;
							case 7: // 1.5
								sum += (1.5 * arr[i].valueAsNumber);
								break;
							case 8: // 1.0
								sum += (1 * arr[i].valueAsNumber);
								break;
							case 9: // 0.5
								sum += (.5 * arr[i].valueAsNumber);
								break;
						}
					}
				}

				if (document.getElementById('mensbar').checked) {
					sum += 20;
				}
				else if (document.getElementById('womensbar').checked) {
					sum += 15;
				}
				else if (document.getElementById('womensbar').checked) {
					sum += 0;
				}

				// Weight in kg, save for output later
				var kgs = sum;

				// Weight in lb
				sum = sum * 2.20;

				$('.result').text(sum.toFixed(2) + 'lbs/' + kgs.toFixed(2) + 'kgs');

			});

			$('#manualConvertBtn').click(function() { 
			
				var weightInputs = $('#numberConversion').find('input').val();
				var lbs = 0;
				var kgs = 0;
				var sum = 0;
				// Converting from lbs to kg
				if (document.getElementById('convertlbs').checked) {
					kgs = weightInputs * (1/2.2);
					$('.manualresult').text(kgs.toFixed(2) + 'kgs');
				
				}
				// Converting from kg to lbs
				else if (document.getElementById('convertkg').checked) {
					lbs = weightInputs * 2.2;
					$('.manualresult').text(lbs.toFixed(2) + 'lbs');
					
				}
				
				
			});


		</script>
	</body>
</html>